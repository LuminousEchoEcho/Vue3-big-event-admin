import{r as g,u as R,a as $,w as q,o as _,c as v,b as o,d as l,e as w,f as d,g as u,h as I,E,i as N,j as k,l as c}from"./index-C2RHDhMo.js";import{E as z,a as F}from"./el-col--SY5Mvgs.js";import{E as M}from"./el-checkbox-Dwu2RIVW.js";import{E as P,a as T}from"./el-form-item-ByoRGwta.js";import{E as j}from"./el-link-BNiukjHn.js";import{_ as A,E as D}from"./_plugin-vue_export-helper-D454ASWf.js";import{E as G}from"./el-input-5AdgkQG3.js";/* empty css                   */import"./isEqual-C0zWK-Li.js";import"./_baseClone-bknzmvu0.js";const H={class:"flex"},J={__name:"LoginPage",setup(K){const t=g(!1),i=g(),s=g({username:"",password:"",repassword:""}),x={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:5,max:10,message:"用户名必须是 5-10 位 的字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是 6-15位 的非空字符",trigger:"blur"}],repassword:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是 6-15位 的非空字符",trigger:"blur"},{validator:(m,e,n)=>{e!==s.value.password?n(new Error("两次输入密码不一致")):n()},trigger:"blur"}]},b=async()=>{await i.value.validate(),await I(s.value),E.success("注册成功"),t.value=!t.value},C=R(),S=$(),U=async()=>{await i.value.validate();const m=await N(s.value);C.setToken(m.data.token),E.success("登录成功"),S.push("/")};return q(t,()=>{s.value={username:"",password:"",repassword:""}}),(m,e)=>{const n=F,r=P,p=G,V=D,f=j,y=T,B=M,L=z;return _(),v(L,{class:"login-page"},{default:o(()=>[l(n,{span:12,class:"bg"}),l(n,{span:6,offset:3,class:"form"},{default:o(()=>[t.value?(_(),v(y,{key:0,model:s.value,rules:x,ref_key:"form",ref:i,size:"large",autocomplete:"off"},{default:o(()=>[l(r,null,{default:o(()=>e[7]||(e[7]=[w("h1",null,"注册",-1)])),_:1}),l(r,{prop:"username"},{default:o(()=>[l(p,{modelValue:s.value.username,"onUpdate:modelValue":e[0]||(e[0]=a=>s.value.username=a),"prefix-icon":d(k),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),l(r,{prop:"password"},{default:o(()=>[l(p,{modelValue:s.value.password,"onUpdate:modelValue":e[1]||(e[1]=a=>s.value.password=a),"prefix-icon":d(c),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),l(r,{prop:"repassword"},{default:o(()=>[l(p,{modelValue:s.value.repassword,"onUpdate:modelValue":e[2]||(e[2]=a=>s.value.repassword=a),"prefix-icon":d(c),type:"password",placeholder:"请输入再次密码"},null,8,["modelValue","prefix-icon"])]),_:1}),l(r,null,{default:o(()=>[l(V,{onClick:b,class:"button",type:"primary","auto-insert-space":""},{default:o(()=>e[8]||(e[8]=[u(" 注册 ")])),_:1})]),_:1}),l(r,{class:"flex"},{default:o(()=>[l(f,{type:"info",underline:!1,onClick:e[3]||(e[3]=a=>t.value=!1)},{default:o(()=>e[9]||(e[9]=[u(" ← 返回 ")])),_:1})]),_:1})]),_:1},8,["model"])):(_(),v(y,{key:1,model:s.value,rules:x,ref_key:"form",ref:i,size:"large",autocomplete:"off"},{default:o(()=>[l(r,null,{default:o(()=>e[10]||(e[10]=[w("h1",null,"登录",-1)])),_:1}),l(r,{prop:"username"},{default:o(()=>[l(p,{modelValue:s.value.username,"onUpdate:modelValue":e[4]||(e[4]=a=>s.value.username=a),"prefix-icon":d(k),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),l(r,{prop:"password"},{default:o(()=>[l(p,{modelValue:s.value.password,"onUpdate:modelValue":e[5]||(e[5]=a=>s.value.password=a),name:"password","prefix-icon":d(c),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),l(r,{class:"flex"},{default:o(()=>[w("div",H,[l(B,null,{default:o(()=>e[11]||(e[11]=[u("记住我")])),_:1}),l(f,{type:"primary",underline:!1},{default:o(()=>e[12]||(e[12]=[u("忘记密码？")])),_:1})])]),_:1}),l(r,null,{default:o(()=>[l(V,{onClick:U,class:"button",type:"primary","auto-insert-space":""},{default:o(()=>e[13]||(e[13]=[u("登录")])),_:1})]),_:1}),l(r,{class:"flex"},{default:o(()=>[l(f,{type:"info",underline:!1,onClick:e[6]||(e[6]=a=>t.value=!0)},{default:o(()=>e[14]||(e[14]=[u(" 注册 → ")])),_:1})]),_:1})]),_:1},8,["model"]))]),_:1})]),_:1})}}},se=A(J,[["__scopeId","data-v-ee6c5b13"]]);export{se as default};
