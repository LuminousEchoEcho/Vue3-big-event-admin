import{_ as w}from"./PageContainer-BiMsqkyX.js";import{u as y,r as p,o as s,c as _,b as a,d as o,x as b,f as l,e as x,g as i,bN as A,E as R,A as B,aR as d,bO as C}from"./index-C2RHDhMo.js";import{_ as N,E as S}from"./_plugin-vue_export-helper-D454ASWf.js";import{a as V,E as z}from"./el-col--SY5Mvgs.js";import{E as F}from"./el-progress-DkP7_86E.js";/* empty css                   */import"./_baseClone-bknzmvu0.js";import"./isEqual-C0zWK-Li.js";const I=["src"],$={__name:"UserAvatar",setup(q){const r=y(),t=p(r.user.user_pic),n=p(),f=c=>{const e=new FileReader;e.readAsDataURL(c.raw),e.onload=()=>{t.value=e.result}},m=async()=>{await A(t.value),await r.getUser(),R.success("头像更新成功")};return(c,e)=>{const v=B,E=F,g=V,U=z,u=S,k=w;return s(),_(k,{title:"更换头像"},{default:a(()=>[o(U,null,{default:a(()=>[o(g,{span:12},{default:a(()=>[o(E,{ref_key:"uploadRef",ref:n,"auto-upload":!1,class:"avatar-uploader","show-file-list":!1,"on-change":f},{default:a(()=>[t.value?(s(),b("img",{key:0,src:t.value,class:"avatar"},null,8,I)):(s(),_(v,{key:1,class:"avatar-uploader-icon"},{default:a(()=>[o(l(d))]),_:1}))]),_:1},512)]),_:1})]),_:1}),e[3]||(e[3]=x("br",null,null,-1)),o(u,{onClick:e[0]||(e[0]=D=>n.value.$el.querySelector("input").click()),type:"primary",icon:l(d),size:"large"},{default:a(()=>e[1]||(e[1]=[i("选择图片")])),_:1},8,["icon"]),o(u,{onClick:m,type:"success",icon:l(C),size:"large"},{default:a(()=>e[2]||(e[2]=[i("上传头像")])),_:1},8,["icon"])]),_:1})}}},K=N($,[["__scopeId","data-v-c40911be"]]);export{K as default};
